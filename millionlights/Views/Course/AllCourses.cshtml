@model PagedList.IPagedList<Millionlights.Models.ShortCourse>
@using PagedList.Mvc;
@{
    ViewBag.Title = "e-Learning Certificate Programs in India | Free Video Lectures Pune";
    var courseCategories = ViewBag.CourseCategory;
    var userName = Session["UserName"];
    var userId = Session["UserID"];
    var courseType = ViewBag.CourseType;
    var courseId = ViewBag.CourseId;
    int roleID = 0;
    if (Session["RoleID"] != null)
    {
        roleID = int.Parse(Session["RoleID"].ToString());
    }
    if (roleID != 0)
    {
        if (roleID == 1 || roleID == 3)
        {
            Layout = "~/Views/Shared/_AceLandingLayout.cshtml";
        }
        else
        {
            Layout = "~/Views/Shared/_Layout.cshtml";
        }
    }
    else
    {
        Layout = "~/Views/Shared/_Layout.cshtml";
    }
    var freeCourses = ViewBag.FreeCourses;
    var paidCourses = ViewBag.PaidCourses;
    var freeCourseCounterTemp = ViewBag.FreeCoursesCounter;
    var paidCoursesCounterTemp = ViewBag.PaidCoursesCounter;
}
@{
    var messages = (Dictionary<string, string>)ViewBag.Messages;
}
@section ExtraMetaTags
{
    <meta name="keywords" content="E- learning Certificate Programs in India, Free Video Lectures, e learning courses, video courses, video classes india, pune" />
    <meta name="description" content="MillionLights offers e-learning certificate programs in India and provides free video lectures for a variety of subjects." />
}

@*<link href="~/Content/learn/css/color_scheme.css" rel="stylesheet" />
<link href="~/Content/Custom/CustomStyle.css" rel="stylesheet" />
<link href="~/Blur/css/style.css" rel="stylesheet" />*@
<section id="main_content">
    <div>
        <div class="row">
            <aside class="col-lg-3 col-md-4 col-sm-4 allCoursesAside">
                <div class="box_style_1 ">
                    <h4>Categories<i class="reveal icon-minus-circled-1 floatRight"> </i></h4>
                    <ul class="submenu-col">
                        <li><a href="/Course/AllCourses" id="active">All Courses</a></li>
                        @foreach (var category in courseCategories)
                        {
                            if (category.CategoryName != null)
                            {
                                <li><a href="/Course/AllCourses?id=@category.ID&type=Category" id="@category.ID">@category.CategoryName (@category.CourseCount) </a></li>
                            }
                        }
                    </ul>

                    <h4>
                        Price <i class="reveal icon-plus-circled-1 floatRight"></i>
                    </h4>

                    <ul class="submenu-col" style="display: none;">
                        <li><a href="/Course/AllCourses?type=FreeCourse">Free Courses</a></li>
                        <li style="margin-left:6%">Price in Range</li>
                        <input type="text" style="width: 46%;" placeholder="Min" id="min" autocomplete="off">-
                        <input type="text" style="width: 46%;" placeholder="Max" id="max" autocomplete="off">
                        <li><a href="" class="button_top btnsignin signupbg btnsignUp detailClass" style="text-align:center" onclick="return CourseInRange()">Search</a></li>
                    </ul>
                    <h4>Availability<i class="reveal icon-plus-circled-1 floatRight"> </i></h4>
                    <ul class="submenu-col" style="display: none;">

                        @foreach (var category in courseCategories)
                        {
                            if (category.CourseAvailability != null)
                            {
                                <li><a href="/Course/AllCourses?id=@category.ID&type=CourseAvailability" id="@category.ID">@category.CourseAvailability (@category.CourseCount) </a></li>
                            }
                        }
                    </ul>
                    <h4>Level<i class="reveal icon-plus-circled-1 floatRight"> </i></h4>
                    <ul class="submenu-col" style="display: none;">

                        @foreach (var category in courseCategories)
                        {
                            if (category.CourseLevel != null)
                            {
                                <li><a href="/Course/AllCourses?id=@category.ID&type=CourseLevel" id="@category.ID">@category.CourseLevel (@category.CourseCount) </a></li>
                            }
                        }
                    </ul>
                    <h4>Language<i class="reveal icon-plus-circled-1 floatRight"> </i></h4>

                    <ul class="submenu-col" style="display: none;">

                        @foreach (var category in courseCategories)
                        {
                            if (category.CourseLanguage != null)
                            {
                                <li><a href="/Course/AllCourses?id=@category.ID&type=CourseLanguage" id="@category.ID">@category.CourseLanguage (@category.CourseCount) </a></li>
                            }
                        }
                    </ul>
                    <h4>Course Type<i class="reveal icon-plus-circled-1 floatRight"> </i></h4>

                    <ul class="submenu-col" style="display: none;">

                        @foreach (var category in courseCategories)
                        {
                            if (category.CourseType != null)
                            {
                                <li><a href="/Course/AllCourses?id=@category.ID&type=CourseType" id="@category.ID">@category.CourseType (@category.CourseCount) </a></li>
                            }
                        }
                    </ul>
                </div>

            </aside>
            <div class="col-lg-9 col-md-8 col-sm-8" style="margin-right: -26px;margin-top:2.5%;">
                <div class="panel-group" id="accordion">
                    <div class="panel panel-default">
                        <div class="panel-heading" style="background-image: linear-gradient(to bottom,#f5f5f5 0,#1dd7b2 100%) !important;">
                            <h4 class="panel-title" style="text-align:center;font-weight: bold;">
                                <a class="accordion-toggle collapsed collapseFreeCourse" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">Free Courses<i class="indicator icon-plus pull-right"></i></a>
                            </h4>
                        </div>
                        <div id="collapseTwo" class="panel-collapse collapse">
                            <div class="panel-body">
                                <div class="row ib-container" id="ib-container">
                                    @if (freeCourses.Count > 0)
                                    {
                                        foreach (var course in freeCourses)
                                        {
                                    <article class="paddingLeftRightZero">
                                        <div class="col-item marginBottomZero">
                                            <div class="photo">
                                                @if (!string.IsNullOrEmpty(course.CourseImageLink))
                                                        {
                                                            var physicalPath = Request.MapPath("/Images/CourseImg/" + course.Id + "/" + course.CourseImageLink + "");
                                                            if (System.IO.File.Exists(physicalPath))
                                                            {
                                                                if (course.IsCourseEnrolled != null && course.IsCourseEnrolled == true)
                                                                {
                                                        <a id="@course.Id" href="#" onclick="window.open('@course.EDXCourseLink')"><img src="@String.Format("/Images/CourseImg/{0}/{1}", course.Id, course.CourseImageLink)" alt="" id="@course.Id" style="height:151px;"></a>
                                                                }
                                                                else
                                                                {
                                                        <a id="@course.Id" href="" class="imagedetailClass"><img src="@String.Format("/Images/CourseImg/{0}/{1}", course.Id, course.CourseImageLink)" alt="" id="@course.Id" style="height:151px;"></a>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                if (course.IsCourseEnrolled != null && course.IsCourseEnrolled == true)
                                                                {
                                                        <a id="@course.Id" href="#" onclick="window.open('@course.EDXCourseLink')"><img alt="Logo" src="~/Images/noimage378X225.png" class="testLogo" id="@course.Id" style="height:151px;"></a>
                                                                }
                                                                else
                                                                {
                                                        <a id="@course.Id" href="" class="imagedetailClass"><img alt="Logo" src="~/Images/noimage378X225.png" class="testLogo" id="@course.Id" style="height:151px;"></a>
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            if (course.IsCourseEnrolled != null && course.IsCourseEnrolled == true)
                                                            {
                                                        <a id="@course.Id" href="#" onclick="window.open('@course.EDXCourseLink')"><img alt="Logo" src="~/Images/noimage378X225.png" class="testLogo" id="@course.Id" style="height:151px;"></a>
                                                            }
                                                            else
                                                            {
                                                        <a id="@course.Id" href="" class="imagedetailClass"> <img alt="Logo" src="~/Images/noimage378X225.png" class="testLogo" id="@course.Id"></a>
                                                            }
                                                        }
                                                @{
                                                            string courseCatName = course.CategoryName;
                                                            string tempCourseCatName = string.Empty;
                                                            if (courseCatName.Length > 21)
                                                            {
                                                                tempCourseCatName = courseCatName.Substring(0, 20);
                                                            }
                                                            else
                                                            {
                                                                tempCourseCatName = courseCatName;
                                                            }
                                                }
                                                @if (courseCatName.Length > 21)
                                                        {
                                                        <div class="cat_row">
                                                            <a href="#">
                                                                @tempCourseCatName<span title="@courseCatName">...</span>
                                                            </a>
                                                            <span class="pull-right">

                                                                <i class="icon-clock"></i>@course.Duration (Days)
                                                            </span>
                                                        </div>
                                                        }
                                                        else
                                                        {
                                                        <div class="cat_row">
                                                            <a href="#">
                                                                @tempCourseCatName
                                                            </a>
                                                            <span class="pull-right">
                                                                <i class="icon-clock"></i>@course.Duration (Days)
                                                            </span>
                                                        </div>
                                                        }
                                            </div>
                                            <div class="info" style="padding-bottom: 0px;">
                                                <div class="row">
                                                    <div class="course_info col-md-12 col-sm-12 CourseName-block">
                                                        <a class="detailClass" id="@course.Id">
                                                            <div id="shortdiv" style="height:50px;">
                                                                @{
                                                                            string courseName = course.CourseName;
                                                                            string tempCourseName = string.Empty;
                                                                            if (courseName.Length > 32)
                                                                            {
                                                                                tempCourseName = courseName.Substring(0, 31);
                                                                            }
                                                                            else
                                                                            {
                                                                                tempCourseName = courseName;
                                                                            }
                                                                }
                                                                @if (courseName.Length > 32)
                                                                        {
                                                                        <div>
                                                                            <h4>@tempCourseName <span title="@courseName">...</span></h4>

                                                                        </div>
                                                                        }
                                                                        else
                                                                        {
                                                                        <div>
                                                                            <h4>@tempCourseName</h4>
                                                                        </div>
                                                                        }
                                                            </div>
                                                        </a>
                                                        <div class="shortdescription"><p> @course.ShortDescription</p></div>
                                                        <div class="rating">
                                                            @{
                                                                        int filled = 5 - course.CourseRatings;
                                                            }

                                                            @for (int i = 0; i < course.CourseRatings; i++)
                                                                    {
                                                                    <i class="icon-star"></i>
                                                                    }
                                                            @for (int i = 0; i < filled; i++)
                                                                    {
                                                                    <i class="icon-star-empty"></i>
                                                                    }
                                                        </div>
                                                        <div class="price pull-right">
                                                            @if (course.BasePrice == 0)
                                                                    {
                                                                    <p>Free</p>
                                                                    }
                                                                    else
                                                                    {
                                                                    <p>Rs.@course.BasePrice</p>
                                                                    }
                                                        </div>
                                                    </div>
                                                </div>
                                                @if (course.Availability == "Starting Soon")
                                                        {
                                                        <div class="separator clearfix" style="background-color: seashell;height: 36px;">
                                                            <p style="font-weight: bold; font-size: 14px;">Starting Soon....</p>
                                                        </div>
                                                        <div class="separator clearfix" style="text-align: center;">
                                                            <a class="button_top btnsignin signupbg btnsignUp detailClass" style="padding: 6px 10px 3px 5px !important;" href="" id="@course.Id"><i class=" icon-list"></i>Details</a>
                                                        </div>
                                                        <hr style="margin-top: 10px !important;margin-bottom: 10px !important;" />
                                                        <ul class="social_team" style="text-align: center;">
                                                            <li><a id="postToWallWithFBUiPrompt" href="" onclick="javascript:postToWallUsingFBUi('@tempCourseName','@course.BasePrice','@course.EncodedDescription','@course.Id', '@course.EncodedImageLink');return false;"><i class="icon-facebook"></i></a></li>
                                                            <li><a id="shareonLinkedIn" href="" onclick="javascript:shareOnLinkedIn( '@tempCourseName','@course.EncodedDescription');return false;"><i class="icon-linkedin"></i></a></li>
                                                            <li>
                                                            <li>
                                                                <a href="#" class="g-interactivepost"
                                                                   data-contenturl='@course.CourseDirectURL'
                                                                   data-contentdeeplinkid="/pages"
                                                                   data-clientid="30381212514-f34hvmcfetehk0m2tinhebh5vd7g395b.apps.googleusercontent.com"
                                                                   data-cookiepolicy="single_host_origin"
                                                                   data-prefilltext=""
                                                                   data-calltoactionlabel="READ"
                                                                   data-calltoactionurl='@course.CourseDirectURL'
                                                                   data-calltoactiondeeplinkid="/pages/create">
                                                                    <i class="icon-google"></i>
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a id="dsdsd" href="" onclick="CourseEmailText('@course.Id', '@tempCourseName');return false;"><i class="icon-email"></i></a>
                                                            </li>
                                                        </ul>
                                                        }
                                                        else
                                                        {
                                                        <div class="separator clearfix" style="background-color: aliceblue; height: 36px;">
                                                            <p style="font-weight: bold; font-size: 14px;">Active</p>
                                                        </div>
                                                        <div class="separator clearfix" style="text-align:center;">
                                                            @if (course.IsCourseEnrolled != null && course.IsCourseEnrolled == true)
                                                                {
                                                                <a class="actCoupon enrollClass" style="padding: 6px 10px 3px 5px !important; background-color: grey; pointer-events: none; cursor: default; " href="" id="@course.Id"><i class=" icon-export-4"></i>Enrolled</a>
                                                                }
                                                                else
                                                                {
                                                                <a class="actCoupon enrollClass" style="padding: 6px 10px 3px 5px !important;" href="" id="@course.Id"><i class="icon-export-4"></i>Enroll</a>
                                                                }
                                                            <a class="button_top btnsignin signupbg btnsignUp detailClass" style="padding: 6px 10px 3px 5px !important;" href="" id="@course.Id"><i class=" icon-list"></i>Details</a>
                                                        </div>
                                                        <hr style="margin-top: 10px !important;margin-bottom: 10px !important;" />

                                                        <ul class="social_team" style="text-align: center;">
                                                            <li><a id="postToWallWithFBUiPrompt" href="" onclick="javascript:postToWallUsingFBUi('@tempCourseName','@course.BasePrice','@course.EncodedDescription','@course.Id', '@course.EncodedImageLink');return false;"><i class="icon-facebook"></i></a></li>
                                                            <li><a id="shareonLinkedIn" href="" onclick="javascript:shareOnLinkedIn('@tempCourseName','@course.EncodedDescription');return false;"><i class="icon-linkedin"></i></a></li>
                                                            <li>
                                                                <a href="#" class="g-interactivepost"
                                                                   data-contenturl='@course.CourseDirectURL'
                                                                   data-contentdeeplinkid="/pages"
                                                                   data-clientid="30381212514-f34hvmcfetehk0m2tinhebh5vd7g395b.apps.googleusercontent.com"
                                                                   data-cookiepolicy="single_host_origin"
                                                                   data-prefilltext=""
                                                                   data-calltoactionlabel="READ"
                                                                   data-calltoactionurl='@course.CourseDirectURL'
                                                                   data-calltoactiondeeplinkid="/pages/create">
                                                                    <i class="icon-google"></i>
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a id="dsdsd" href="" onclick="CourseEmailText('@course.Id', '@tempCourseName');return false;"><i class="icon-email"></i></a>
                                                            </li>
                                                        </ul>
                                                        }
                                            </div>
                                        </div>
                                    </article>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                    <div><h4>No free course available. Please check other category.</h4></div>


                                                                        }
                                </div>
                                <!-- End row -->

                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="panel-heading" style="background-image: linear-gradient(to bottom,#f5f5f5 0,#1dd7b2 100%) !important;">
                            <h4 class="panel-title" style="text-align:center;font-weight: bold;">
                                <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseOne"> Paid Courses<i class="indicator pull-right icon-plus"></i></a>
                            </h4>
                        </div>
                        <div id="collapseOne" class="panel-collapse collapse" style="height: auto;">
                            <div class="panel-body">
                                <div class="row ib-container" id="ib-container">
                                    @if (paidCourses.Count > 0)
                                    {
                                        foreach (var course in paidCourses)
                                        {
                                            <article class="paddingLeftRightZero">
                                                <div class="col-item marginBottomZero">
                                                    <div class="photo">

                                                        @if (!string.IsNullOrEmpty(course.CourseImageLink))
                                                        {
                                                            var physicalPath = Request.MapPath("/Images/CourseImg/" + course.Id + "/" + course.CourseImageLink + "");
                                                            if (System.IO.File.Exists(physicalPath))
                                                            {
                                                                if (course.IsCourseEnrolled != null && course.IsCourseEnrolled == true)
                                                                {
                                                                    <a id="@course.Id" href="#" onclick="window.open('@course.EDXCourseLink')"><img src="@String.Format("/Images/CourseImg/{0}/{1}", course.Id, course.CourseImageLink)" alt="" id="@course.Id" style="height:151px;"></a>
                                                                }
                                                                else
                                                                {
                                                                    <a id="@course.Id" href="" class="imagedetailClass"><img src="@String.Format("/Images/CourseImg/{0}/{1}", course.Id, course.CourseImageLink)" alt="" id="@course.Id" style="height:151px;"></a>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                if (course.IsCourseEnrolled != null && course.IsCourseEnrolled == true)
                                                                {
                                                                    <a id="@course.Id" href="#" onclick="window.open('@course.EDXCourseLink')"><img alt="Logo" src="~/Images/noimage378X225.png" class="testLogo" id="@course.Id" style="height:151px;"></a>
                                                                }
                                                                else
                                                                {
                                                                    <a id="@course.Id" href="" class="imagedetailClass"><img alt="Logo" src="~/Images/noimage378X225.png" class="testLogo" id="@course.Id" style="height:151px;"></a>
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            if (course.IsCourseEnrolled != null && course.IsCourseEnrolled == true)
                                                            {
                                                                <a id="@course.Id" href="#" onclick="window.open('@course.EDXCourseLink')"> <img alt="Logo" src="~/Images/noimage378X225.png" class="testLogo" id="@course.Id"></a>
                                                            }
                                                            else
                                                            {
                                                                <a id="@course.Id" href="" class="imagedetailClass"> <img alt="Logo" src="~/Images/noimage378X225.png" class="testLogo" id="@course.Id"></a>
                                                            }
                                                        }
                                                        @{
                                                            string courseCatName = course.CategoryName;
                                                            string tempCourseCatName = string.Empty;
                                                            if (courseCatName.Length > 21)
                                                            {
                                                                tempCourseCatName = courseCatName.Substring(0, 20);
                                                            }
                                                            else
                                                            {
                                                                tempCourseCatName = courseCatName;
                                                            }
                                                        }
                                                        @if (courseCatName.Length > 21)
                                                        {

                                                            <div class="cat_row">
                                                                <a href="#">
                                                                    @tempCourseCatName<span title="@courseCatName">...</span>
                                                                </a>
                                                                <span class="pull-right">

                                                                    <i class=" icon-clock"></i>@course.Duration (Days)
                                                                </span>
                                                            </div>
                                                        }
                                                        else
                                                        {
                                                            <div class="cat_row">
                                                                <a href="#">
                                                                    @tempCourseCatName
                                                                </a>
                                                                <span class="pull-right">

                                                                    <i class=" icon-clock"></i>@course.Duration (Days)
                                                                </span>
                                                            </div>
                                                        }
                                                    </div>
                                                    <div class="info" style="padding-bottom: 0px;">
                                                        <div class="row">
                                                            <div class="course_info col-md-12 col-sm-12 CourseName-block">
                                                                <a class="detailClass" id="@course.Id">
                                                                    <div id="shortdiv" style="height:50px;">
                                                                        @{
                                                                            string courseName = course.CourseName;
                                                                            string tempCourseName = string.Empty;
                                                                            if (courseName.Length > 32)
                                                                            {
                                                                                tempCourseName = courseName.Substring(0, 31);
                                                                            }
                                                                            else
                                                                            {
                                                                                tempCourseName = courseName;
                                                                            }
                                                                        }
                                                                        @if (courseName.Length > 32)
                                                                        {
                                                                            <div>
                                                                                <h4>@tempCourseName <span title="@courseName">...</span></h4>

                                                                            </div>
                                                                        }
                                                                        else
                                                                        {
                                                                            <div>
                                                                                <h4>@tempCourseName</h4>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </a>
                                                                <div class="shortdescription"><p> @course.ShortDescription</p></div>
                                                                <div class="rating">
                                                                    @{
                                                                        int filled = 5 - course.CourseRatings;
                                                                    }

                                                                    @for (int i = 0; i < course.CourseRatings; i++)
                                                                    {
                                                                        <i class="icon-star"></i>
                                                                    }
                                                                    @for (int i = 0; i < filled; i++)
                                                                    {
                                                                        <i class="icon-star-empty"></i>
                                                                    }
                                                                </div>
                                                                <div class="price pull-right">
                                                                    @if (course.BasePrice == 0)
                                                                    {
                                                                        <p>Free</p>
                                                                    }
                                                                    else
                                                                    {
                                                                        <p>Rs.@course.BasePrice</p>
                                                                    }
                                                                </div>
                                                            </div>
                                                        </div>
                                                        @if (course.Availability == "Starting Soon")
                                                        {
                                                            <div class="separator clearfix" style="background-color: seashell;height: 36px;">
                                                                <p style="font-weight: bold; font-size: 14px;">Starting Soon....</p>
                                                            </div>
                                                                <div class="separator clearfix" style="text-align: center;">
                                                                    <a class="button_top btnsignin signupbg btnsignUp detailClass" style="padding: 6px 10px 3px 5px !important;" href="" id="@course.Id"><i class=" icon-list"></i>Details</a>
                                                                </div>
                                                                <hr style="margin-top: 10px !important;margin-bottom: 10px !important;" />
                                                                <ul class="social_team" style="text-align:center;">
                                                                    <li><a id="postToWallWithFBUiPrompt" onclick="javascript:postToWallUsingFBUi('@tempCourseName','@course.BasePrice','@course.EncodedDescription','@course.Id', '@course.EncodedImageLink');return false;" href=""><i class="icon-facebook"></i></a></li>
                                                                    <li><a id="shareonLinkedIn" href="" onclick="javascript:shareOnLinkedIn('@tempCourseName','@course.EncodedDescription');return false;"><i class="icon-linkedin"></i></a></li>
                                                                    <li>
                                                                        <a href="#" class="g-interactivepost"
                                                                           data-contenturl='@course.CourseDirectURL'
                                                                           data-contentdeeplinkid="/pages"
                                                                           data-clientid="30381212514-f34hvmcfetehk0m2tinhebh5vd7g395b.apps.googleusercontent.com"
                                                                           data-cookiepolicy="single_host_origin"
                                                                           data-prefilltext=""
                                                                           data-calltoactionlabel="READ"
                                                                           data-calltoactionurl='@course.CourseDirectURL'
                                                                           data-calltoactiondeeplinkid="/pages/create">
                                                                            <i class="icon-google"></i>
                                                                        </a>
                                                                    </li>
                                                                    <li>
                                                                        <a id="dsdsd" href="" onclick="CourseEmailText('@course.Id', '@tempCourseName');return false;"><i class="icon-email"></i></a>
                                                                    </li>
                                                                </ul>
                                                        }
                                                        else
                                                        {
                                                            <div class="separator clearfix" style="background-color: aliceblue; height: 36px;">
                                                                <p style="font-weight: bold; font-size: 14px;">Active</p>
                                                            </div>
                                                                <div class="separator clearfix" style="text-align:center;">
                                                                    @if (course.IsCourseEnrolled != null && course.IsCourseEnrolled == true)
                                                                    {
                                                                        <a class="actCoupon enrollClass" style="padding: 6px 10px 3px 5px !important; background-color: grey; pointer-events: none; cursor: default; " href="" id="@course.Id"><i class=" icon-export-4"></i>Enrolled</a>
                                                                    }
                                                                    else
                                                                    {
                                                                        <a class="actCoupon enrollClass" style="padding: 6px 10px 3px 5px !important;" href="" id="@course.Id"><i class="icon-export-4"></i>Enroll</a>
                                                                    }
                                                                    <a class="button_top btnsignin signupbg btnsignUp detailClass" style="padding: 6px 10px 3px 5px !important;" href="" id="@course.Id"><i class=" icon-list"></i>Details</a>
                                                                </div>
                                                                <hr style="margin-top: 10px !important;margin-bottom: 10px !important;" />
                                                                <ul class="social_team" style="text-align:center;">
                                                                    <li><a id="postToWallWithFBUiPrompt" onclick="javascript:postToWallUsingFBUi('@tempCourseName','@course.BasePrice','@course.EncodedDescription','@course.Id', '@course.EncodedImageLink');return false;" href=""><i class="icon-facebook"></i></a></li>
                                                                    <li><a id="shareonLinkedIn" href="" onclick="javascript:shareOnLinkedIn('@tempCourseName','@course.EncodedDescription');return false;"><i class="icon-linkedin"></i></a></li>
                                                                    <li>
                                                                        <a href="#" class="g-interactivepost"
                                                                           data-contenturl='@course.CourseDirectURL'
                                                                           data-contentdeeplinkid="/pages"
                                                                           data-clientid="30381212514-f34hvmcfetehk0m2tinhebh5vd7g395b.apps.googleusercontent.com"
                                                                           data-cookiepolicy="single_host_origin"
                                                                           data-prefilltext=""
                                                                           data-calltoactionlabel="READ"
                                                                           data-calltoactionurl='@course.CourseDirectURL'
                                                                           data-calltoactiondeeplinkid="/pages/create">
                                                                            <i class="icon-google"></i>
                                                                        </a>
                                                                    </li>
                                                                    <li>
                                                                        <a id="dsdsd" href="" onclick="CourseEmailText('@course.Id', '@tempCourseName');return false;"><i class="icon-email"></i></a>
                                                                    </li>
                                                                </ul>
                                                        }
                                                    </div>
                                                </div>
                                            </article>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <div><h4>No paid course available. Please check other category.</h4></div>
                                                                               
                                                                        }
                                </div>
                                <!-- End row -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div id='AllCoursePaging' style="text-align:center">
            Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
            of @Model.PageCount
            @Html.PagedListPager(Model, page => Url.Action("AllCourses", new { page }))
        </div>

    </div><!-- End container -->
</section><!-- End main_content -->
<div id="fb-root"></div>
<script src="~/Content/assets/js/jquery.js"></script>
<script type="text/javascript">
    var APP_ID = "806929762735402";
    // Facebook Deveoper account: Archana
    //var APP_ID = "389441631447093";
    window.fbAsyncInit = initFacebook;

    function initFacebook() {
        FB.init({
            appId: APP_ID,
            status: true, // check login status
            cookie: false, // enable cookies to allow the server to access the session
            xfbml: true  // parse XFBML
        });

        FB.getLoginStatus(onFacebookLoginStatus);
    };

    //Callback function for FB.login
    function onFacebookLoginStatus(response)
    {
        //nothing to do
    }

    (function () {
        var e = document.createElement('script');
        e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
        e.async = true;
        document.getElementById('fb-root').appendChild(e);
    }());


    function postToWallUsingFBUi(name, price, desc, courseId, imgName) {
        debugger
        var picUrl = '';
        if (imgName != '178x100_2.png') {
            picUrl = 'https://www.millionlights.org/Images/CourseImg/' + courseId + '/' + imgName;
        }
        else {
            picUrl = 'https://www.millionlights.org/Images/noimage378X225.png';
        }

        // Done by Archana 23.01.2017
        var path = 'https://www.millionlights.org/Course/AboutCourse?id=' + courseId;

        var data =
		{
            // Done by Archana 23.01.2017
		    //method: 'stream.publish',
		    method: 'feed',
		    message: "Posted using FB.ui and picture.",
		    display: 'iframe',
		    caption: desc,
		    name: name,
		    picture: picUrl,
		    link: "https://www.millionlights.org",
		    redirect_uri : path,
		    description: price,
		    actions: [{ name: 'action_links text!', link: 'https://www.millionlights.org' }]
		}
        FB.ui(data, onPostToWallCompleted);
    }

    function onPostToWallCompleted(response) {
        if (response) {
            if (response.error) {
                bootbox.dialog({
                    message: response.error.message,
                    buttons: {
                        "success": {
                            "label": "OK",
                            "className": "btn-sm btn-primary"
                        }
                    }
                });
            }
            else {
                if (response.id) {
                    bootbox.dialog({
                        message: "Shared the course successfully",
                        buttons: {
                            "success": {
                                "label": "OK",
                                "className": "btn-sm btn-primary"
                            }
                        }
                    });
                }
                else if (response.post_id) {
                    bootbox.dialog({
                        message: "Shared the course successfully",
                        buttons: {
                            "success": {
                                "label": "OK",
                                "className": "btn-sm btn-primary"
                            }
                        }
                    });
                }
                else {
                    bootbox.dialog({
                        message: "OOPs, Sharing failed. Please try again.",
                        buttons: {
                            "success": {
                                "label": "OK",
                                "className": "btn-sm btn-primary"
                            }
                        }
                    });
                }
            }
        }
        else {
            bootbox.dialog({
                message: "Posting has been canceled.",
                buttons: {
                    "success": {
                        "label": "OK",
                        "className": "btn-sm btn-primary"
                    }
                }
            });
        }
    }
</script>
<script src="~/Content/learn/js/jquery-1.10.2.min.js"></script>
<script src="~/Content/assets/js/bootbox.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery.cookie/1.3.1/jquery.cookie.js"></script>
<script type="text/javascript">
    var cartName = "CourseDetails";
    var currentCourses = '';
    function getCurrentCartItems() {
        var itemsCart = window.localStorage[cartName];
        if (itemsCart === undefined) {
            return null;
        }

        var currentItems;
        try {
            currentItems = JSON.parse(itemsCart);
        }
        catch (e) {
            currentItems = null;
        }

        return currentItems;
    }

    $(document).ready(function () {
        debugger
        // Done By Archana 24.11.2016 for Collaspse and Show the Courses according to the Conditions
        if ('@freeCourseCounterTemp'<= 0 && '@paidCoursesCounterTemp' <= 0) {
            $('#collapseTwo').collapse("hide"); //Free
            $('#collapseOne').collapse("hide"); //Paid

        }
        else if ('@freeCourseCounterTemp' > 0 && '@paidCoursesCounterTemp' <= 0) {
            $('#collapseTwo').collapse("show");
            $('#collapseOne').collapse("hide");

        }
         else if ('@freeCourseCounterTemp' <= 0 && '@paidCoursesCounterTemp' > 0) {
            $('#collapseOne').collapse("show");
            $('#collapseTwo').collapse("hide");

         }
         else if ('@freeCourseCounterTemp'> 0 && '@paidCoursesCounterTemp' > 0) {
             $('#collapseTwo').collapse("show"); //Free
             $('#collapseOne').collapse("hide"); //Paid

         }

        var cartName = "CourseDetails";

        if (window.localStorage[cartName] != null || window.localStorage[cartName] != undefined) {
            currentCourses = JSON.parse(window.localStorage[cartName]);
        }

        var dataEnroll = "";
        var couponCode = null;
        var currentItems = getCurrentCartItems();
        if (currentItems == null || currentItems == "") {
            currentItems = [];
        }
        $('.enrollClass').click(function () {
            localStorage.CouponCode = null;
            var userId = '@userId';
            if (userId == '') {
                window.localStorage.removeItem(cartName);
                currentItems = null;
            }
            //New Way
            var courseId = $(this)[0].id;
            $.cookie("CourseID", courseId);

            var courseContents = {
                CourseId: $(this)[0].id,
                CourseImage: $($(this).parent().parent().parent().parent()).find('img').attr('src'),
                CourseName: $($(this).parent().parent().parent().parent()).find('.course_info h4')[0].innerHTML,
                CourseDescription: $($(this).parent().parent().parent().parent()).find('.course_info p')[0].innerHTML,
                CoursePrice: $($(this).parent().parent().parent().parent()).find('.course_info .price p')[0].innerHTML,
                CourseUserId: '@userId'
            };

            if (currentItems === null) {
                window.localStorage[cartName] = JSON.stringify([courseContents]);
            }
            else {
                currentItems.push(courseContents);
                window.localStorage[cartName] = JSON.stringify(currentItems)
            }
            //
            localStorage.CourseId = courseId;

            if (userId == '') {
                var url = "/Account/Login";
                window.location.href = url;

            }
            else {
                if ($.cookie("CourseID") != null) {
                    dataEnroll = $.cookie("CourseID");
                    $.ajax({
                        type: "POST",
                        async: true,
                        data: JSON.stringify({ "data": dataEnroll }),
                        contentType: 'application/json; charset=utf-8',
                        url: "/UserRegister/GetUserCourses",
                        success: function (response) {
                            var resp = JSON.parse(response);
                            if (resp.enrollCourse == "true") {
                                var courseId = resp.couresId;
                                var tempCurrentItems = JSON.parse(window.localStorage[cartName]);
                                var remCourses = removeItem(tempCurrentItems, courseId);
                                currentItems = remCourses;
                                window.localStorage[cartName] = JSON.stringify(remCourses);
                                bootbox.dialog({
                                    message: '@messages["AlredyEnroll"]',
                                    buttons: {
                                        "success": {
                                            "label": "Ok",
                                            "className": "btn-sm btn-primary",
                                            callback: function () {
                                            }
                                        },
                                        "fail": {
                                            "label": "Cancel",
                                            "className": "btn-sm btn-primary",
                                            callback: function () {
                                            }
                                        },
                                    }
                                });
                            }
                            else {
                                location.href = "/Order/Details";
                            }

                        },
                        error: function (response) {
                            localStorage.clear();
                        }
                    });
                }
                $.removeCookie("CourseID");
            }

            return false;

        });
        $('.detailClass').click(function () {
            debugger
            var prevElement = 0;
            if ($(this)[0].previousElementSibling == null || $(this).parent().parent().find('a.enrollClass')[0] == undefined) {
                prevElement = 1;
            }
            //New Way
            localStorage.CouponCode = null;

            var courseId = $(this)[0].id;
            setCookie("AboutCourseID", courseId, 1);
            var courseContents = {
                CourseId: $(this)[0].id,
                CourseImage: $($(this).parent().parent().parent().parent()).find('img').attr('src'),
                CourseName: ($($(this).parent().parent().parent().parent()).find('.course_info h4')[0].innerHTML),
                CourseDescription: $($(this).parent().parent().parent().parent()).find('.course_info p')[0].innerHTML,
                CoursePrice: $($(this).parent().parent().parent().parent()).find('.course_info .price p')[0].innerHTML,
                CourseUserId: '@userId'
            };

            if (currentItems === null) {
                window.localStorage[cartName] = JSON.stringify([courseContents]);
            }
            else {
                currentItems.push(courseContents);
                window.localStorage[cartName] = JSON.stringify(currentItems)
            }
            //
            localStorage.CourseId = courseId;
            location.href = "/Course/AboutCourse?id=" + courseId + "&type=" + "&pe=" + prevElement;
            return false;

        });
        $('.reveal').click(function () {
            if ($(this).hasClass('icon-minus-circled-1')) {
                $(this).parent().nextAll('ul.submenu-col:first').hide(500);
                $(this).addClass('icon-plus-circled-1').removeClass('icon-minus-circled-1');
            }
            else {
                $(this).parent().nextAll('ul.submenu-col:first').show(500);
                $(this).addClass('icon-minus-circled-1').removeClass('icon-plus-circled-1');
            }
        });
        $('.imagedetailClass').click(function () {
            debugger
            var prevElement = 0;
            if ($(this)[0].previousElementSibling == null || $(this).parent().parent().find('a.enrollClass')[0] == undefined) {
                prevElement = 1;
            }
            //New Way
            localStorage.CouponCode = null;
            var courseId = $(this)[0].id;
            setCookie("AboutCourseID", courseId, 1);
            var courseContents = {
                CourseId: $(this)[0].id,
                CourseImage: $($(this).parent().parent()).find('img').attr('src'),
                CourseName: $($(this).parent().parent()).find('.course_info h4')[0].innerHTML,
                CourseDescription: $($(this).parent().parent()).find('.course_info p')[0].innerHTML,
                CoursePrice: $($(this).parent().parent()).find('.course_info .price p')[0].innerHTML,
                CourseUserId: '@userId'
            };
            if (currentItems === null) {
                window.localStorage[cartName] = JSON.stringify([courseContents]);
            }
            else {
                currentItems.push(courseContents);
                window.localStorage[cartName] = JSON.stringify(currentItems)
            }
            localStorage.CourseId = courseId;
            location.href = "/Course/AboutCourse?id=" + courseId + "&type=" + "&pe=" + prevElement;
            return false;
        });
    });

    function setCookie(cookieName, cookieValue, nDays) {
        var today = new Date();
        var expire = new Date();
        if (nDays == null || nDays == 0) {
            nDays = 1;
        }
        expire.setTime(today.getTime() + 3600000 * 24 * nDays);
        document.cookie = cookieName + "=" + escape(cookieValue)
        + ";expires=" + expire.toGMTString() + "; path=/";
    }

    function removeItem(tempCourse, courseId) {
        var cc = 0;
        for (var i = 0; i < tempCourse.length; i++) {
            if (courseId === tempCourse[i].CourseId) {
                if (cc == 0) {
                    tempCourse.splice(i, 1);
                }
                cc++;
            }
        }
        return tempCourse;
    }
    function CourseDetails() {
        debugger
        var courseId = $(this)[0].id;
        var courseContents = {
            CourseId: $(this)[0].id,
            CourseImage: $($(this).parent().parent().parent().parent()).find('img').attr('src'),
            CourseName: $($(this).parent().parent().parent().parent()).find('.course_info h4')[0].innerHTML,
            CourseDescription: $($(this).parent().parent().parent().parent()).find('.course_info p')[0].innerHTML,
            CoursePrice: $($(this).parent().parent().parent().parent()).find('.course_info .price p')[0].innerHTML,
            CourseUserId: '@userId'
        };

        if (currentItems === null) {
            window.localStorage[cartName] = JSON.stringify([courseContents]);
        }
        else {
            currentItems.push(courseContents);
            window.localStorage[cartName] = JSON.stringify(currentItems)
        }
        //
        localStorage.CourseId = courseId;
        location.href = "/Course/AboutCourse?id=" + courseId + "&type=";
        return false;
    }

    function CourseInRange() {
        var minAmt = $("#min").val();
        var maxAmt = $("#max").val();

        if (parseFloat(minAmt) > parseFloat(maxAmt)) {
            bootbox.dialog({
                message: "Max Amount Should be greater!!!",
                buttons: {
                    "success": {
                        "label": "OK",
                        "className": "btn-sm btn-primary"
                    }
                }
            });
            return false;
        }
        else {
            location.href = "/Course/AllCourses?MinPrice=" + minAmt + "&MaxPrice=" + maxAmt + "&type=FilterCourse";
            return false;
        }
    }
    // Use the API call wrapper to share content on LinkedIn
    function shareContent(pcontent) {
        IN.API.Raw("/people/~/shares?format=json")
      .method("POST")
      .body(pcontent)
      .result(onSuccess)
        .error(onError);

    }
    // Handle the successful return from the API call
    function onSuccess(data) {
        console.log(data);
        alert("Post Successful!");
    }

    // Handle an error response from the API call
    function onError(error) {
        console.log(error);
        alert("Oh no, something went wrong. Check the console for an error log.");
    }
    function ShareOnLinkedIn2() {
        var postcontent = {
            "comment": "Check out millionlights.org!",
            "content": {
                "title": "LinkedIn Developers Resources",
                "description": "Leverage LinkedIn's APIs to maximize engagement",
                "submitted-url": "https://www.millionlights.org",
                "submitted-image-url": "https://example.com/logo.png"
            },
            "visibility": {
                "code": "anyone"
            }
        }
        postcontent = JSON.stringify(postcontent);
        shareContent(postcontent);
        //});
    }
    function ShareOnLinkedIn1(shareUrl,name,shortDesc) {
        var url='https://www.linkedin.com/cws/share?mini=true&url='+shareUrl+'&title='+name+'&summary='+shortDesc+'&source=Millionlights';
        location.href=url;
    }

    function shareOnLinkedIn(name, shortDesc) {
        debugger
        var shareUrl = window.location.protocol + "//" + window.location.host + "/Course/AboutCourse/" + encodeURI(name) + "/";
        var url='https://www.linkedin.com/cws/share?mini=true&url='+shareUrl+'&title='+name+'&summary='+shortDesc+'&source=Millionlights';
        location.href=url;
    }

    function CourseEmailText(cID, name) {
        $.ajax({
            url: '@Url.Action("GetCourseEmailext", "Home")',
            type: 'GET',
            cache: false,
            data: "courseId=" + cID + "&courseName=" + name,
            success: function (emailText) {
                var mailto_link = 'mailto:' + '?subject=' + encodeURIComponent(name) + '&body=' + encodeURIComponent(emailText);
                window.location.assign(mailto_link);
            },
            error: function () {
            }
        });
    }

    function onLinkedInLoad() {
        IN.Event.on(IN, "auth", function() {onLinkedInLogin();});
        IN.Event.on(IN, "logout", function() {onLinkedInLogout();});
    }
    function onLinkedInLogin() {
        IN.API.Profile("me")
          .fields(["id", "firstName", "lastName", "pictureUrl", "publicProfileUrl", "emailAddress"])
          .result(function(result) {
              ShareOnLinkedIn2();
          })
          .error(function(err) {
              alert(err);
          });
    }
</script>
<!--Blur Effect-->
<script type="text/javascript">
    $(function () {

        var $container = $('#ib-container'),
            $articles = $container.children('article'),
            timeout;

        $articles.on('mouseenter', function (event) {

            var $article = $(this);
            clearTimeout(timeout);
            timeout = setTimeout(function () {

                if ($article.hasClass('active')) return false;

                $articles.not($article.removeClass('blur').addClass('active'))
                         .removeClass('active')
                         .addClass('blur');

            }, 65);

        });

        $container.on('mouseleave', function (event) {

            clearTimeout(timeout);
            $articles.removeClass('active blur');

        });

    });
</script>
<script type="text/javascript" src="https://platform.linkedin.com/in.js">
        api_key:75cxqdj7v4gd8f
        authorize: false
        onLoad: onLinkedInLoad
        scope: w_share
</script>

<script type="text/javascript">
        (function () {
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/client:plusone.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(po, s);
        })();
</script>